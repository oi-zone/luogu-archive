model User {
  id        Int            @id
  snapshots UserSnapshot[]

  activities     Activity[]
  pastes         Paste[]
  judgements     Judgement[]
  postSnapshots  PostSnapshot[]
  replySnapshots ReplySnapshot[]

  postTakedowns     PostTakedown[]
  replyTakedowns    ReplyTakedown[]
  activityTakedowns ActivityTakedown[]
}

model UserSnapshot {
  user   User @relation(fields: [userId], references: [id])
  userId Int

  name       String
  slogan     String
  badge      String?
  isAdmin    Boolean
  isBanned   Boolean
  isRoot     Boolean
  color      Color
  ccfLevel   Int
  xcpcLevel  Int
  background String

  time  DateTime
  until DateTime

  @@id([userId, time])
  @@index([userId])
  @@index([userId, time(sort: Desc)])
}

enum Color {
  Cheater
  Gray
  Blue
  Green
  Orange
  Red
  Purple
}
